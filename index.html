<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title>Ishac Kurnia Sandy</title>

    <!-- Google Fonts: Poppins -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Marked.js -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <style>
      body {
        font-family: 'Poppins', sans-serif;
      }
      section {
        scroll-padding-top: 4rem;
      }
      .nav-link {
        position: relative;
        display: inline-block;
        padding: 0.5rem 0.75rem;
        color: #7e22ce;
        transition: background-color .3s ease, color .3s ease;
        border-radius: 0.375rem;
      }
      .nav-link:hover {
        background-color: #f3e8ff;
      }
      .nav-link.active {
        background-color: #7e22ce;
        color: white !important;
        border-radius: 0.375rem;
        font-weight: 700;
      }
      .nav-link:active,
      .nav-link:focus-visible {
        background-color: #7e22ce;
        color: white !important;
        outline: none;
      }
      #chatBox img {
        max-width: 100%;
        height: auto;
        border-radius: 0.5rem;
      }
      button, input {
        touch-action: manipulation;
        -webkit-tap-highlight-color: transparent;
      }
      .copy-btn {
        min-width: 60px;
        text-align: right;
        white-space: nowrap;
        top: 0.25rem;
        right: 0.25rem;
        position: absolute;
        font-size: 0.75rem;
        color: #7e22ce;
        font-weight: 600;
        background-color: transparent;
      }
      .user-bubble {
        background-color: #e0f2fe;
        align-self: flex-end;
        text-align: right;
      }
      .bot-bubble {
        background-color: #f3e8ff;
        align-self: flex-start;
      }
      #chatBox::-webkit-scrollbar {
        width: 6px;
      }
      #chatBox::-webkit-scrollbar-thumb {
        background-color: #d1d5db;
        border-radius: 8px;
      }
      .nav-link {
        transition: background-color 0.3s ease, color 0.3s ease, font-weight 0.3s ease;
      }
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(8px); }
        to { opacity: 1; transform: translateY(0); }
      }
      .animate-fade-in {
        animation: fadeIn 0.4s ease;
      }
    </style>
    <!-- ‚úÖ MathJax untuk render rumus matematika -->
<script>
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$', '$$'], ['\\[', '\\]']],
    },
    svg: { fontCache: 'global' }
  };
</script>
<script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

  </head>
  <body class="bg-white text-gray-800 overflow-x-hidden">
    <!-- ‚úÖ Navbar -->
    <nav class="sticky top-0 z-50 bg-white/100 backdrop-blur-md shadow-md">
      <div class="w-full px-0">
        <div class="flex justify-between items-center h-16 px-4 sm:px-6 lg:px-8">
          <div class="text-purple-600 font-bold text-lg">Ishac Kurnia Sandy</div>
          <div class="flex items-center gap-4">
            <button id="burgerBtn" class="lg:hidden text-purple-600 focus:outline-none">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
              </svg>
            </button>
            <div id="navLinks" class="hidden absolute top-full left-0 right-0 mt-2 w-full px-4 flex-col bg-white shadow-lg rounded-lg py-2 lg:static lg:flex lg:flex-row lg:w-auto lg:shadow-none lg:bg-transparent lg:mt-0 lg:py-0">
              <a href="#home" class="nav-link">Home</a>
              <a href="#achievement" class="nav-link">Achievement</a>
              <a href="#about" class="nav-link">About me</a>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <!-- ‚úÖ Home Section -->
    <section id="home" class="scroll-mt-16 relative bg-white px-6 py-12 sm:py-16 lg:px-8">
      <div class="mx-auto max-w-2xl lg:max-w-4xl">
        <span class="text-[36px] sm:text-[48px] md:text-[58px] font-bold text-center block text-indigo-600">HI WELCOME!</span>
        <figure class="mt-4">
          <blockquote class="text-center text-xl font-semibold text-gray-900 sm:text-2xl">
            <p>‚Äú Lukas 1 : 38 ‚Äù</p>
          </blockquote>
          <figcaption class="mt-8 text-center">
  <img class="mx-auto w-32 h-32 rounded-full" src="https://files.catbox.moe/8bbrg6.jpg" alt="Ishac Kurnia Sandy" loading="lazy">
  <div class="mt-4 text-center">
    <div class="font-semibold text-gray-900 text-xl">Ishac Kurnia Sandy</div>
    <div class="text-gray-600 text-sm">Software Engineer</div>
  </div>
</figcaption>
        </figure>
      </div>
    </section>

     <!-- ‚úÖ Achievement Section -->
    <section id="achievement" class="min-h-screen pb-32 bg-gray-100">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="mx-auto max-w-2xl py-8 sm:py-12 lg:max-w-none lg:py-16">
          <h2 class="text-4xl font-bold tracking-tight text-gray-900">Achievement</h2>
          <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">

            <!-- Item 1 -->
           <a href="https://github.com/Ikyodayo/OpenCV-Face-Detector" target="_blank" class="group block">
  <div class="overflow-hidden rounded-lg shadow-lg hover:shadow-xl hover:scale-105 transition-transform duration-300 ease-in-out">
<img src="https://files.catbox.moe/mlygsi.png"alt="Peoject Face Detector menggunakan OpenCV" class="w-full object-cover group-hover:opacity-75" loading="lazy">
    <div class="p-4 bg-white">
      <h3 class="text-sm text-gray-500">Modifier</h3>
      <p class="text-base font-semibold text-gray-900">Face Detector</p>
    </div>
  </div>
</a>


            <!-- Item 2 -->
        <a href="https://wa.me/6281234567890" target="_blank" class="group block">
  <div class="overflow-hidden rounded-lg shadow-lg hover:shadow-xl hover:scale-105 transition-transform duration-300 ease-in-out">
    <img src="https://files.catbox.moe/rxhz63.jpg" alt="aplikasi chatbot CAT AI" class="w-full object-cover group-hover:opacity-75" loading="lazy">
    <div class="p-4 bg-white">
      <h3 class="text-sm text-gray-500">Developer</h3>
      <p class="text-base font-semibold text-gray-900">CAT AI</p>
    </div>
  </div>
</a>


            <!-- Item 3 -->
           <a href="https://open.spotify.com/track/7KsqFRGwjbWAR350ZSkTeG?si=nYL6HX9PRYmCDmhEozCqsQ" target="_blank" class="group block">
  <div class="overflow-hidden rounded-lg shadow-lg hover:shadow-xl hover:scale-105 transition-transform duration-300 ease-in-out">
    <img src="https://files.catbox.moe/yb65ta.jpg" alt="Cover lagu Sampai Jumpa Kawanku"  class="w-full object-cover group-hover:opacity-75" loading="lazy">
    <div class="p-4 bg-white">
      <h3 class="text-sm text-gray-500">Song Writer</h3>
      <p class="text-base font-semibold text-gray-900">Sampai Jumpa Kawanku</p>
    </div>
  </div>
</a>

    </section>


    <!-- ‚úÖ About Section & Chatbot -->
    <section id="about" class="min-h-screen pb-32 bg-white">
      <div class="mx-auto grid max-w-7xl grid-cols-1 lg:grid-cols-2 items-start gap-16 px-4 py-24 sm:px-6 sm:py-32 lg:px-8">
        <div>
          <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">About Me</h2>
         <p class="mt-4 text-gray-700 text-lg leading-relaxed">
  Ishac Kurnia Sandy, remaja berusia 19 tahun yang lahir di kota Tangerang, 09 Januari 2006. Tengah menjalani pendidikan di Universitas Raharja dan telah memasuki semester ke-2. Mudah bergaul, ceria, dan inovatif, selalu ingin tahu akan hal baru dan punya bakat di bidang musisi di bagian keyboard. Kini tengah mempelajari bagaimana menjadi web developer, backend developer, dan data analyst.
</p>

        </div>
   <div class="bg-white w-full h-[80vh] max-h-screen p-4 sm:p-6 lg:p-8 rounded-2xl shadow-lg flex flex-col">
         <span class="font-bold text-gray-700">Merry</span>
       <div class="flex-1 overflow-y-auto space-y-2 mb-4 max-h-full pt-4 pr-2" id="chatBox"></div>
     <form id="chatForm" class="flex flex-col sm:flex-row gap-2">
 <input type="text" id="messageInput" class="w-full sm:flex-1 border border-gray-300 rounded-full px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 text-base" placeholder="Tulis sesuatu..." required autofocus />
  <button type="submit" class="bg-blue-500 text-white px-5 py-3 rounded-full hover:bg-blue-600 transition text-base">Kirim</button>
  <button type="button" id="clearBtn" class="bg-red-500 text-white px-5 py-3 rounded-full hover:bg-red-600 transition text-base">Clear</button>
</form>

        </div>
      </div>
    </section>

    <!-- ‚úÖ Music -->
   <audio id="bgMusic" src="music/Lauv - Steal The Show.mp3" preload="auto" loop></audio>
<div id="introBtnWrapper" class="fixed bottom-6 right-6 z-50 block sm:bottom-6 sm:right-6">
     <button id="introBtn" class="flex items-center gap-2 px-4 py-2 text-sm sm:text-base bg-purple-600 text-white rounded-full shadow-lg hover:bg-purple-700 transition">
        üé§<span>Let's Play Music</span>
      </button>
    </div>
    <div id="musicBtnWrapper" class="fixed bottom-28 right-4 z-50 transition-all duration-500 opacity-0 translate-x-20 sm:bottom-80 sm:right-6">
      <button id="toggleMusic" class="w-12 h-12 rounded-full bg-purple-600 text-white shadow-lg flex items-center justify-center hover:bg-purple-700 transition">
        <div class="relative w-5 h-5">
          <svg id="iconPlay" class="absolute inset-0 w-full h-full transition-opacity duration-300 opacity-100" fill="currentColor" viewBox="0 0 20 20">
            <path d="M6 4l10 6-10 6V4z" />
          </svg>
          <svg id="iconPause" class="absolute inset-0 w-full h-full transition-opacity duration-300 opacity-0" fill="currentColor" viewBox="0 0 20 20">
            <path d="M6 4h4v12H6V4zm4 0h4v12h-4V4z" />
          </svg>
        </div>
      </button>
    </div>

    <!-- ‚úÖ Scripts -->
   <script>
  // Fungsi global untuk tombol "Salin"
 function copyToClipboard(button) {
  const messageDiv = button.parentElement.querySelector('div.mt-1');
  if (!messageDiv) return alert("Tidak dapat menemukan pesan.");
  const textToCopy = messageDiv.innerText.trim();

  navigator.clipboard.writeText(textToCopy).catch(() => alert("Gagal menyalin teks"));
}


  // Semua kode utama dijalankan setelah DOM selesai dimuat
  document.addEventListener("DOMContentLoaded", () => {
    // Navigasi aktif saat scroll
    const sections = document.querySelectorAll("section");
    const navLinks = document.querySelectorAll(".nav-link");

    function activateNavLink() {
      let current = "";
      sections.forEach(section => {
        const rect = section.getBoundingClientRect();
        if (rect.top <= 120 && rect.bottom >= 120) current = section.id;
      });
      navLinks.forEach(link => {
        link.classList.toggle("active", link.getAttribute("href").substring(1) === current);
      });
    }

    window.addEventListener("scroll", activateNavLink);
    activateNavLink();

  navLinks.forEach(link => {
  link.addEventListener("click", e => {
    e.preventDefault();
    const target = document.getElementById(link.getAttribute("href").substring(1));
    if (target) {
      target.scrollIntoView({ behavior: "smooth", block: "start" });
      setTimeout(() => window.scrollBy(0, -64), 800);

      // üî• Set link aktif saat klik
      navLinks.forEach(l => l.classList.remove("active"));
      link.classList.add("active");
    }
  });
});


    // Navbar responsive
    const burger = document.getElementById("burgerBtn");
    const nav = document.getElementById("navLinks");

    burger.addEventListener("click", () => {
      nav.classList.toggle("hidden");
    });

    document.querySelectorAll("#navLinks a").forEach(link => {
      link.addEventListener("click", () => {
        if (window.innerWidth < 1024) nav.classList.add("hidden");
      });
    });

    document.addEventListener("click", e => {
      if (window.innerWidth < 1024 && !nav.contains(e.target) && !burger.contains(e.target)) {
        nav.classList.add("hidden");
      }
    });

    // Chatbot
    const chatBox = document.getElementById("chatBox");
    const chatForm = document.getElementById("chatForm");
    const messageInput = document.getElementById("messageInput");
    const clearBtn = document.getElementById("clearBtn");

    clearBtn.addEventListener("click", () => chatBox.innerHTML = '');

    function addLoading() {
      removeLoading();
      const loading = document.createElement('div');
      loading.id = 'loadingMessage';
      loading.className = 'p-3 rounded-lg bg-white text-left text-gray-500 border border-gray-200 shadow';
      loading.innerHTML = `<strong class="text-purple-600">Merry:</strong> sedang mengetik...`;
      chatBox.appendChild(loading);
      chatBox.scrollTo({ top: chatBox.scrollHeight, behavior: 'smooth' });
    }

    function removeLoading() {
      const existing = document.getElementById('loadingMessage');
      if (existing) existing.remove();
    }

    chatForm.addEventListener("submit", async e => {
      e.preventDefault();
      const message = messageInput.value.trim();
      if (!message) return;

      addMessage('You', message, 'text-right text-blue-700');
      messageInput.value = '';
      addLoading();
      let timeoutFallback = setTimeout(() => {
  removeLoading();
  addMessage('Merry', 'Ini agak lama ya... mungkin koneksi sedang lambat.', 'text-left text-yellow-600');
}, 7000); 

      try {
        const res = await fetch(`https://zenz.biz.id/ai/blackbox?query=${encodeURIComponent(message)}`);
        const data = await res.json();

        removeLoading();
        clearTimeout(timeoutFallback);
       if (res.ok && data.status && data.result && data.result.response) {
  addMessage('Merry', data.result.response, 'text-left text-gray-800');
} else {
  const msg = data?.error || "Maaf, Merry sedang kesulitan merespons. Coba lagi nanti ya üòä";
  addMessage("Merry", msg, 'text-left text-red-500');
}
} catch (err) {
  console.error("Terjadi kesalahan jaringan:", err);
  removeLoading();
   clearTimeout(timeoutFallback);
  addMessage('Merry', 'Tidak bisa terhubung ke server. Coba cek koneksi internet kamu.', 'text-left text-red-500');
}

    });

 function addMessage(sender, text, className = '') {
  const msg = document.createElement('div');

  let bubbleClass = sender === 'Merry' ? 'bot-bubble' : 'user-bubble';
  msg.className = `relative p-3 rounded-lg border border-gray-200 shadow ${bubbleClass} ${className} group animate-fade-in`;


  if (sender === 'Merry') {
    msg.innerHTML = `
      <strong class="text-purple-600">${sender}:</strong>
      <div class="mt-1">${marked.parse(text)}</div>
    <button class="copy-btn absolute top-2 right-4 text-purple-600 font-semibold text-sm whitespace-nowrap min-w-[60px]" onclick="event.stopPropagation(); copyToClipboard(this)">Salin</button>


    `;

   msg.addEventListener("click", () => {
  const contentDiv = msg.querySelector("div.mt-1");
  const button = msg.querySelector(".copy-btn");
  if (!contentDiv) return;
  const textToCopy = contentDiv.innerText.trim();

  // Tambahkan efek warna ungu ke bubble selama 1 detik
  msg.classList.add("bg-purple-200");
  setTimeout(() => {
    msg.classList.remove("bg-purple-200");
  }, 1000);

  // Salin teks ke clipboard
  navigator.clipboard.writeText(textToCopy).then(() => {
    if (button) button.innerText = "Disalin!";
    setTimeout(() => {
      if (button) button.innerText = "Salin";
    }, 1000);
  }).catch(() => alert("Gagal menyalin teks"));
});

  } else {
    msg.innerHTML = `<strong class="text-blue-600">${sender}:</strong> <div class="mt-1">${marked.parse(text)}</div>`;
  }

  chatBox.appendChild(msg);
  chatBox.scrollTo({ top: chatBox.scrollHeight, behavior: 'smooth' });
  if (window.MathJax && MathJax.typesetPromise) {
  MathJax.typesetPromise([msg]);
}

}



    // Musik
    const bgMusic = document.getElementById("bgMusic");
    const introBtn = document.getElementById("introBtn");
    const musicBtnWrapper = document.getElementById("musicBtnWrapper");
    const iconPlay = document.getElementById("iconPlay");
    const iconPause = document.getElementById("iconPause");

    introBtn.addEventListener("click", async () => {
  try {
    await bgMusic.play(); // Memastikan audio dimulai
    iconPlay.classList.add("opacity-0");
    iconPause.classList.remove("opacity-0");

    // Tampilkan tombol pause
    musicBtnWrapper.classList.remove("opacity-0", "translate-x-20");

    // Sembunyikan tombol intro
    introBtn.parentElement.classList.add("hidden");
  } catch (err) {
    alert("Klik/tap dibutuhkan untuk memulai musik.");
    console.error("Gagal memutar musik:", err);
  }
});



    document.getElementById("toggleMusic").addEventListener("click", () => {
  bgMusic.muted = false;
  const status = document.getElementById("musicStatus");

  if (bgMusic.paused) {
    bgMusic.play();
    iconPlay.classList.add("opacity-0");
    iconPause.classList.remove("opacity-0");
    
  } else {
    bgMusic.pause();
    iconPause.classList.add("opacity-0");
    iconPlay.classList.remove("opacity-0");
    
  }


  setTimeout(() => {
  chatBox.scrollTo({ top: chatBox.scrollHeight, behavior: 'smooth' });
}, 300);

});
  });
</script>

  </body>
</html>
